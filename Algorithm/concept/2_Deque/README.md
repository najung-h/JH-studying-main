# Deque(데크)

데크가 뭘까요?

큐이긴 큐인데, 양쪽 끝에서 데이터를 넣고 뺄 수 있는 큐입니다.



즉, 큐 + 스택의 장점을 모두 갖춘 유연한 자료구조라고 볼 수 있습니다.

파이썬에서는 간단하게 아래와 같이 구현할 수 있습니다.



```python
from collections import deque


# Deque의 주요 연산

dq = deque() # 빈 데크

arr = [10, 20, 30]
dq = deque(arr)

dq.append(40)
# dq = [10, 20, 30, 40]

dq.appendleft(0)
# dq = [0, 10, 20, 30, 40]

right = dq.pop()
# print(dq)  # [0, 10, 20, 30]
# print(right) # 40

left = dq.popleft()
# print(left) = 0
# print(dq) = [10, 20, 30]

```



데크의 결정적인 장점은 당연히 "성능"입니다.



우선 첫째,

`collections.deque`는 내부 핵심 동작이 C언어로 작성되어 있어, 매우 빠르게 실행됩니다.



그리고 둘째,

자료의 삽입 / 제거 연산에서 list가 `O(n)`의 시간 복잡도를 가진다면,

deque의 경우에는 `O(1)`의 시간 복잡도를 가집니다.



그리고, 추가적으로

데크에는 전체 요소를 효율적으로 회전시키는 `rotate()`메서드를 제공합니다.

회전? 어떻게 회전하냐고 물으신다면

컨베이어 벨트의 회전을 생각하시면 됩니다. 아니면, 회전초밥집을 생각해보셔도 되고요



`deque.rotate(n)`이 있을 때

- `n`이 **양수**이면, 오른쪽 끝의 `n`개 요소가 왼쪽 끝으로 이동합니다. (오른쪽으로 n칸 만큼 회전)

- `n`이 **음수**이면, 왼쪽 끝의 `n`개 요소가 오른쪽 끝으로 이동합니다. (왼쪽으로 n칸 만큼 회전)

  

코드로 보여드리겠습니다.

```python
from collection import deque

arr = [1, 2, 3, 4, 5]
dq = deque(arr)

dq.rotate(2) # 오른쪽으로 두 칸 회전 == 오른쪽의 두 마리가 앞으로 땡겨옴
# print(dq) # [4, 5, 1, 2, 3]

dq.rotate(-1)
# print(dq) # [5, 1, 2, 3, 4]
```



만약에 rotate 메서드가 없었다면 어떻게 되었을까요?

수동으로 반복문을 계속계속 돌았겠죠..

```python
dq2 = deque([1, 2, 3, 4, 5])

for _ in range(K):
    dq2.append(dq2.popleft())
    
print(dq2)  # deque([4, 5, 1, 2, 3])
```





자... 정리해봅시다.

그래서, 데크를 언제쓰냐면요



**! 큐를 구현하고 싶다면 !**

`append()`와 `popleft()`를 사용해주세요



**! 스택을 구현하고 싶다면!**

`append()`와 `pop()`을 사용해주세요.



그 외에도, **슬라이딩 윈도우**, **Undo/Redo**기능에 아주 유용하게 쓰일 수 있답니다. 

