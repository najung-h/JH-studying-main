# **파이썬 코드 검사기(linter)** - ruff

## --- 

## 왜 ruff 를 쓰나요?



우선 파이썬에서 자주 쓰이는 코드 검사기들에는 뭐가 있는지 알아야겠죠?

### Python에서 자주 쓰이는 코드 검사기들

1. **flake8**
   - 장점: 가볍고 빠름, 설정 간단, 팀 협업에서 가장 많이 쓰임
   - 기본으로 PEP8(스타일 규칙) + pyflakes(에러 탐지) + McCabe(복잡도 체크) 포함
   - VSCode, PyCharm, GitHub Actions 같은 툴과 호환성이 좋음
   - CI/CD에 붙이기 딱 알맞음
2. **pylint**
   - 훨씬 더 꼼꼼함 (코딩 규칙, 변수 이름까지 지적)
   - 점수(10점 만점 채점)도 줘서 학습용/연습용으로는 좋아요
   - 하지만 **너무 빡세서 불필요한 경고가 많다**는 불만이 있음 → 팀원 스트레스 😅
3. **black**
   - **포매터(Formatter)**: 코드를 자동으로 고쳐줌 (줄바꿈, 들여쓰기, 따옴표 통일 등)
   - 사람이 규칙을 맞추는 게 아니라, **도구가 코드 스타일을 강제**해버리는 방식
   - flake8이나 pylint랑 같이 쓰는 경우가 많음
4. **isort**
   - import 순서를 자동으로 정리해줌

---

이 중에서

### 원래 가장 자주 쓰이는 린터는 flake8

- **간단함**: 설정 복잡하지 않고 바로 쓸 수 있다.
- **속도**: pylint보다 빠르고, CI 실행 시간이 짧다.
- **목적에 맞음**: 우리 미니 프로젝트는 학습/협업용 → "기본적인 문법 오류 + 스타일 위반"만 잡아도 충분하다!
- **확장 가능**: 나중에 black, isort을 추가해서 자동 포매팅 + import 정리까지 붙일 수 있다!

---

### 그렇지만 우리가 ruff를 사용하는 이유

**요즘 트렌드입니다** 

그리고, flake가 코드를 검사해서, 문제를 알려주기만 하는 반면(자동 수정 기능 없음, 개발자가 직접 수정해야함)
ruff는 코드를 검사할 뿐 아니라, 자동으로 코드를 고쳐줍니다. 더 편리하겠죠!
솔직히 다른 기능 다 없어도 "자동 수정 가능" 이라는 장점 하나로 갈음할 수 있을 것 같습니다.



그렇지만, 더더욱 열심히 보자면

#### `ruff` vs `flake8`

- Rust로 작성된 **초고속 Python linter/formatter**

- flake8, pylint, isort, pycodestyle, pyflakes, pydocstyle… 수십 가지 도구의 기능을 한 번에 제공

- 속도가 미쳤습니다. (보통 flake8 대비 10~100배 빠름)

  비교

  | 항목   | flake8                           | ruff                                          |
  | ------ | -------------------------------- | --------------------------------------------- |
  | 속도   | 보통 (Python으로 동작)           | 초고속 (Rust로 작성)                          |
  | 기능   | 기본 lint만 (추가 플러그인 필요) | lint + format + import sort 다 지원           |
  | 설정   | 단순 (플러그인 많음)             | 조금 더 신식 (설정파일 `pyproject.toml` 권장) |
  | 생태계 | 오랫동안 표준처럼 쓰임           | 빠르게 대체 중, 2023~2025 트렌드              |

  

---

# **Ruff**

- ### 1. 정의

  - CI 관점에서 **Ruff**는 Rust로 구현된 초고속 **파이썬 코드 검사기(Linter)**이자 **자동 포맷터(Formatter)**
  - 기존에 흩어져 있던 여러 도구(Flake8, Pylint, isort, Black 등)의 기능을 **한 번에** 제공하는 올인원 툴

------

- ### 2. 하는 일

  1. **문법 오류 및 스타일 검사**
     - 괄호 누락, 들여쓰기 문제 등 문법 오류를 잡아냄
     - PEP8 스타일 규칙을 자동으로 검사하고 필요 시 자동 수정(`ruff --fix`) 가능
  2. **자동 포맷팅 (Black 대체)**
     - 코드 줄바꿈, 들여쓰기, 따옴표(`'` ↔ `"`) 통일 등 스타일을 일관되게 맞춰줌
     - 팀 내에서 "스타일 논쟁"이 줄어듦 → 사람이 고치지 않아도 됨
  3. **임포트 정리 (isort 대체)**
     - import 순서를 정리하고 안 쓰는 import는 자동으로 제거
     - 예: `import os, sys` → 정렬된 순서로 정리, 사용 안 하면 삭제
  4. **린트 규칙 검사 (Pylint 대체)**
     - 사용하지 않는 변수, 위험한 패턴, 중복 코드, 가독성 문제 등을 알려줌

------

- ### 3. 적용 예시

```
# example.py
import math, sys

def add(a,b): return a+b
print(add(3,4))
```

이 코드를 Ruff에 돌리면:

- `F401 'sys' imported but unused` (sys 임포트했는데 안 씀)

- `E231 missing whitespace after ','` (쉼표 뒤 공백 없음)

- `E701 multiple statements on one line` (한 줄에 여러 문장)

- 자동 수정 시:

  ```
  import math
  
  def add(a, b):
      return a + b
  
  print(add(3, 4))
  ```

------

## CI에서 Ruff를 쓰는 이유

- **속도**: Flake8/Pylint보다 10~100배 빠름 → CI 대기시간 단축
- **올인원**: lint + 포맷팅 + import 정리까지 지원 → 여러 도구를 따로 세팅할 필요 없음
- **자동화**: 리뷰어가 "띄어쓰기 넣으세요" 같은 사소한 지적 안 해도 됨
- **일관성**: 팀원 전원이 동일한 규칙으로 코드를 작성/자동 수정 → 코드베이스가 깔끔하게 유지됨